<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
>
<h:head>
    <title>Lab3 - Contacts List - Edition</title>
    <h:outputStylesheet library="css" name="table-style.css"  />
</h:head>
<h:body>
    <h:form>
        <p:dataTable value="#{contactsManager.contactList}" var="c"
            styleClass="order-table"
        >
            <p:column>
                <!-- column header -->
                <f:facet name="header">Name</f:facet>
                <h:inputText value="#{c.name}" size="10" rendered="#{c.editable}" />		
    		<h:outputText value="#{c.name}" rendered="#{not c.editable}" />
            </p:column>
    			
            <p:column>
                <f:facet name="header">
                    <h:commandLink action="#{contactsManager.sortBySurname}">
                    Surname
                    </h:commandLink>
                </f:facet>
                <h:inputText value="#{c.surname}" size="10" rendered="#{c.editable}" />		
    		<h:outputText value="#{c.surname}" rendered="#{not c.editable}" />
            </p:column>
    			
            <p:column>
                <f:facet name="header">City</f:facet>
    		<h:inputText value="#{c.city}" size="10" rendered="#{c.editable}" />		
    		<h:outputText value="#{c.city}" rendered="#{not c.editable}" />
            </p:column>
    			
            <p:column>
                <f:facet name="header">Phone number</f:facet>
    		<h:inputText value="#{c.telephone}" size="10" rendered="#{c.editable}" />		
    		<h:outputText value="#{c.telephone}" rendered="#{not c.editable}" />
            </p:column>
            
            <p:column>
                <f:facet name="header">Groups</f:facet>
                #{c.group}
            </p:column>
            
            <p:column>
                <f:facet name="header">Delete</f:facet>	
                <h:commandLink value="Delete"  action="#{contactsManager.deleteAction(c)}" />	
            </p:column>
            
            <p:column>
                <f:facet name="header">Edit</f:facet>	
                <h:commandLink value="Edit" action="#{contactsManager.editAction(c)}" rendered="#{not c.editable}"/>			
            </p:column>
            
        </p:dataTable>
        <h:commandButton value="Save" action="#{contactsManager.saveAction}" />
        <h:commandButton value="Back" action="index" immediate="true"/>
    </h:form>
</h:body>
</html>